# Инженерная культура

## Принципы

- Здоровье сервиса — нулевой приоритет
- Инцидент - это незапланированные инвестиции в стабильность сервиса
- Platform by design
- Принцип «Горящего дома»
- Tech follows Business
- We build it - We run it
- Explicit is Better Than Implicit
- Принцип «Швейцарского ножа»

### Здоровье сервиса — нулевой приоритет

Неважно, насколько хороши фичи твоего продукта, если пользователь не может ими воспользоваться или пользование ими доставляет боль и вызывает раздражение. Первостепенная задача всех команд — обеспечить бесперебойную работу своих сервисов, ожидаемый пользователями уровень производительности и максимальный уровень защищенности.

#### Практики

- команды конвертируют термин «здоровье» в конкретный набор метрик, графиков, дашбордов и мониторингов
- мы можем срезать объём задачи, чтобы уложиться в сроки, но не жертвуем базовыми аспектами доступности, производительности и безопасности
- если ситуация требует, фокус команды перемещается на здоровье сервиса, даже если это не было запланировано
- требования к здоровью фичи/продукта прорабатываются на этапе проектирования, а не после релиза
- в критических ситуациях к решению инцидента могут быть привлечены все необходимые специалисты, в том числе за пределами команды, отвечающей за сервис, и за границами рабочего графика
- во всех командах действует zero-critical-bug policy - в любой момент времени критические ошибки либо полностью отсутствуют, либо их устранение в процессе в приоритетном порядке
- одна из ключевых метрик - скорость восстановления. Поэтому мы ищем самый быстрый способ починки, который не всегда может быть идеальным. Полноценное решение идёт следом.

#### Чем вдохновляться

- Customer is the boss
- [atlassian incidentmanagement](https://www.atlassian.com/incident-management)
- [google sre books](https://sre.google/books/)

### Инцидент - это незапланированные инвестиции в стабильность сервиса

Инциденты - неизбежный спутник активно развивающихся сервисов. С одной стороны мы яростно боремся с этой неизбежностью. С другой - гарантируем максимально быстрый и эффективный возврат инвестиций, который бизнес «вложил» в рамках инцидента, в виде полноценных выводов, технологических и процессных изменений для повышения стабильности сервиса.

#### Практики

- мы терпимы к ошибкам, но нетерпимы к отсутствию полноценных выводов из них, основанных на глубоком анализе первопричин
- информация об инциденте и его последующем разборе должна быть донесена всей команде
- технические лидеры доменов принимают личное участие в работе над postmortem вместе с командой
- мы считаем объём незапланированных инвестиций и гарантируем, что он не противоречит целям бизнеса

#### Чем вдохновляться

- Postmortem Culture (SRE Book)
- Error budgets (SRE Book)

### Platform by design

Каждая команда при создании нового микросервиса или компонента мобильного приложения должна быть готова, что это решение станет «платформенным», используемым всеми, расширяемым. API - способ взаимодействия как сервисов, так и команд друг с другом. Отсутствие лишних зависимостей, простота подключения новых потребителей и всегда актуальная документация - критически важные требования к любому сервису, без которых эффективное взаимодействие команд невозможно.

#### Практики

- Приступая к работе, держать в голове мысли: «может ли это ещё где-то пригодиться, в другой команде, в другом приложении?», «как этот функционал будет/может дальше развиваться?». Подумав над вопросами выше, заранее заложить возможность переиспользования и расширения техрешения.
- при этом появление новых зависимостей между сервисам проходит через аудит и отражается на архитектурной схеме
- каждый сервис должен иметь актуальную спецификацию API, как синхронного, так и асинхронного
- минимальный overhead на запуск нового сервиса, чтобы позволить командам реализовать необходимый уровень декомпозиции сервисов

#### Чем вдохновляться

- The Bezos API Mandate
- [Understanding  the API-First Approach to Building Products](https://swagger.io/resources/articles/adopting-an-api-first-approach/)
- [teamtopologies](https://teamtopologies.com/key-concepts)

### Принцип «Горящего дома»

Критические ситуации случаются - это часть нашей работы. Сорванные дедлайны, лежащий прод, социальные катаклизмы, - всё это приводит людей в состояние стресса. Мы фокусируемся на решении проблемы и конструктивных действиях, поэтому в ответ на призыв «Дом горит!» мы НЕ реагируем следующим образом:

#### Практики

- «Передо мной такой же, и он не горит!» — не отрицаем проблему, не разобравшись
- «Ничего, рядом строится новый, давайте строить его быстрее и сразу переселимся» — сначала чиним суровое настоящее, потом строим светлое будущее
- «Дом горит, и его поджёг Джон (расплескал бензин и бросил спичку)«, «Ничего, рано или поздно какой-нибудь Джон всё равно бы его поджёг. Так что Джон невиноват, виноват процесс» - blameless postmortem culture заканчивается там, где начинается намеренный саботаж, вредительство и бездействие
- «Конечно, горит. У него же нет огнетушителей, плана эвакуации и ответственного за противопожарное состояние. Давайте проведем ретро.» - сначала тушим, потом разбираемся в причинах и исторической справедливости.
- «У тебя тоже горит, сначала свой потуши» - фокусируемся на тушении, не ищем оправданий, особенно на стороне.

### Tech follows Business

Вся цель наших усилий — создать ценность для бизнеса. Любые технические решения должны явно или косвенно поддерживать бизнес. Бизнес иногда требует быстрых изменений, и мы должны поддерживать это: давать быстрые оценки, предлагать альтернативные идеи, быть как бизнес. Мы сфокусированы на создании работающего конечного продукта, а не IT систем.

#### Практики

- Команда способна ознакомиться с очень сырой и непроработанной идеей от бизнеса и быстро дать оценку, насколько эта идея «дорого» всем обойдётся. При этом команда не коммитится на сроки, а просто оценивает объём\сложность работ, чтобы на самом раннем этапе бизнес мог определить свою готовность инвестировать в идею дальше.
- При этом мы не составляем looooong лист замечаний и проблем с резолюцией «проработайте ещеё», а оцениваем понятные части и указываем список просьб, которые помогут дать лучшую оценку
- Мы хорошо знаем наши сервисы и как они устроены внутри. Если сервис имеет большой технический долг, и он сильно влияет на скорость разработки продукта, то мы об этом говорим и исправляем, получая поддержку бизнеса.

#### Чем вдохновляться

- «Нюх — на бизнес, уклон — на технологии»

### We build it - We run it

Мы верим, что команда полностью несёт ответственность за поддержку, мониторинг, данные и аспекты качества всего, что она сделала. Мы это разработали, мы этим полностью управляем! Ответственность и права должны быть открытыми и прозрачными. Мы стремимся к кросс-функциональным автономным командам, которые могут самостоятельно выполнить свою задачу, но которые будут синхронны с другими командами и общепринятыми концепциями.

#### Практики

- Наше вовлечение в работу не заканчивается на кнопке Release - мы знаем и следим, как результаты наших трудов работают в бою
- Мы знаем и пытаемся разобраться, как используются наши данные. Если мы берём какие-то данные от пользователя, то мы знаем куда они передаются дальше и как используются
- У любого кусочка архитектуры, даже если им пользуется несколько команд, есть свой ответственный
- Ответственность прозрачна и публична, мы всегда можем подсказать кто отвечает «вот за это», или подсветить, что есть что-то бесхозное

#### Чем вдохновляться

- [products-over-projects](https://martinfowler.com/articles/products-over-projects.html)

### Explicit is Better Than Implicit

Принцип "явное лучше неявного" является одним из основных принципов и дизайна языков программирования. Этот принцип гласит, что код должен быть написан таким образом, чтобы его намерения и результаты были очевидными и понятными для читателя, а не скрытыми или неявными. Мы постоянно придерживаемся этого принципа в своей работе, когда решаем любые инженерные задачи.

- Явное выражение мыслей и намерений помогает избежать недоразумений и неоднозначностей. Когда мы говорим или пишем явно, мы передаем информацию точно и без возможности неправильного толкования.
- Явное выражение позволяет установить ясные границы и ожидания. Когда мы явно говорим о том, чего мы хотим или не хотим, другие люди могут лучше понять наши предпочтения и действовать соответственно.
- Явное выражение способствует эффективной коммуникации. Когда мы явно выражаем свои мысли и чувства, мы помогаем другим людям лучше понять нас и наши потребности. Это особенно важно в профессиональной сфере, где ясное и точное выражение идей может улучшить сотрудничество и результаты работы.
- Явное выражение помогает избежать конфликтов. Когда мы четко и ясно выражаем свои ожидания и границы, мы предотвращаем возможные недоразумения и разногласия, которые могут привести к конфликтам.
- Явное выражение способствует лучшему самовыражению и самоутверждению. Когда мы явно выражаем свои мысли и чувства, мы укрепляем свою уверенность в себе и свою способность выражать себя. Это может помочь нам стать более автономными и уверенными в себе людьми.
- Явное выражение способствует развитию отношений. Когда мы явно выражаем свои чувства и потребности, мы создаем основу для более глубокого понимания и поддержки со стороны других людей. Это может помочь нам укрепить наши отношения и создать более здоровую и эмоционально благоприятную среду.

#### Практики

- Визуализируйте свои мысли и идеи с помощью сервисов Miro, Draw.io, Excalidraw и т.д., чтобы информация была легче воспринимаема.
- Включайте камеру на онлайн встречах, чтобы передать свою позицию невербально.
- Не надейтесь на то, что вас окружает команда экстрасенсов, способная читать ваши мысли. Если у вас есть что сказать - скажите.
- Конвертируйте свою позицию в текст и понятные тезисы. Таким образом мы создаем более устойчивую форму передачи информации, которая не подвержена искажениям восприятия. Текст также доступен в любой момент времени и для любого члена команды, что облегчает обмен идеями и обсуждение важных вопросов.
- Избегайте использования инструментов, работу которых нельзя объяснить.
- Описывайте процесс, если его нет.
- Оставляйте артефакты своей работы в Confluence, GitLab и т.д., а не в своей голове.
- Уточняйте и описывайте требования к поставленным задачам.
- Оформляйте тезисы, полученные в результате обсуждения, в структурированный документ или протокол.

#### Чем вдохновляться

- [The Zen of Python](https://peps.python.org/pep-0020/)
- [The Anatomy of an Amazon 6-pager](https://writingcooperative.com/the-anatomy-of-an-amazon-6-pager-fc79f31a41c9)

### Принцип «Швейцарского ножа»

Принцип "Швейцарского ножа" говорит о том, что каждый инженер-программист (software engineer) должен стремиться к тому, чтобы быть универсальным игроком в моменты, когда это необходимо для команды. Базово его задачи не ограничиваются только написанием кода, он также участвует в проектировании архитектуры, проведении системного анализа, написании документации, написании тестов, тестировании своего кода и мониторинге работы своих сервисов (продукта). При этом он остается экспертом в своей изначальной области, но это не должно становиться преградой для развития и применения других навыков. Отсутствие в команде выделенного специалиста узкой направленности, например архитектора, системного аналитика или специалиста по контролю качества (QA), не должно мешать или, тем более, блокировать работу команды.

Естественно, есть исключения, которые можно понять на основе здравого смысла, например, все, что связано с дизайном. Дизайн является специализированной областью, в которой часто применяются решения и процессы, отличные от тех, которыми занимаются разработчики. Тем не менее, даже в таких случаях важно, чтобы разработчики имели базовое понимание дизайнерских принципов и умели взаимодействовать с дизайнерами, чтобы обеспечить гармоничное взаимодействие в команде.

В итоге принцип "Швейцарского ножа" означает, что каждый инженер-программист должен стремиться обладать не только глубокой специализацией в своей основной области, но и широким набором навыков и знаний для гибкого и эффективного решения разных задач.

#### Практики

- Инженер-программист стремится не только к глубокой специализации в своей основной области, но и к развитию разносторонних навыков.
- Инженер-программист должен иметь общее представление о работе всей системы, в которой реализуется проект. Это помогает ему принимать правильные решения при разработке и понимать, как его код взаимодействует со всем проектом.
- Инженер-программист должен стремиться к улучшению своих навыков. Он должен быть готов к изучению новых технологий и инструментов, чтобы быть в курсе последних тенденций в области разработки.


#### Чем вдохновлятьсяа

- [Кто такие T-shaped специалисты и почему с ними команда становится лучше](https://rasa.pro/about/blog/1186/)
- [The five expertise levels of a software developer; the road to zen master](https://dev.to/jmitchell38488/the-five-expertise-levels-of-a-software-developer-the-road-to-zen-master-36d7)
- [What employee type or shape are you?](https://www.axelos.com/resource-hub/blog/what-employee-type-or-shape-are-you)
